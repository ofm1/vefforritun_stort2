{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["\r\nvar r = new XMLHttpRequest();\r\nvar data;\r\nvar categories;\r\nvar videos;\r\nvar form;\r\n\r\nfunction getData(){\r\n  // sæki gögn\r\n  r.open('GET', 'videos.json', true);\r\n  // r mun innihalda gögn um HTTP kall\r\n  r.onload = function() {\r\n    if (r.status >= 200 && r.status < 400) {\r\n      data = JSON.parse(r.response);\r\n      categories = data.categories\r\n      videos = data.videos;\r\n\r\n      createInterface();\r\n      } else {\r\n      console.log('villa!', r);\r\n    }\r\n  };\r\n  // Fall sem keyrir ef villa kemur upp\r\n  r.onerror = function() {\r\n    console.log('villa í tengingu');\r\n  };\r\n  // Senda af stað -- verðum að kalla í þetta!\r\n  r.send();\r\n}\r\n\r\n// býr til viðmótið\r\nfunction createInterface(){\r\n  form = document.querySelector('form');\r\n\r\n  for(let i = 0; i<categories.length; i++){\r\n      const cat = createSection(categories[i].title);\r\n      for(let j = 0; j<videos.length; j++){\r\n      for(let k = 0; k<categories[i].videos.length; k++){\r\n        if(videos[j].id == categories[i].videos[k]){\r\n          const string = calcDuration(videos[j].duration);\r\n          const video = createVideo(videos[j].title,videos[j].poster,findTime(videos[j].created),videos[j].id,videos[j].duration);\r\n          cat.appendChild(video);\r\n        }\r\n      }\r\n      }\r\n      console.log(cat);\r\n      form.appendChild(cat);\r\n  }\r\n\r\n}\r\n\r\n// finnur út hve langt síðan myndbandið var búið til\r\nfunction findTime(date){\r\n  const currentTime = new Date();\r\n  const oneDay = 24*60*60*1000;\r\n  const diffDays = Math.round(Math.abs((date - currentTime)/(oneDay)));\r\n  if(diffDays>7){\r\n    if(diffDays > 30){\r\n      if(diffDays>360){\r\n        const years = \"fyrir \"+Math.round(((diffDays/7)/4)/12);\r\n        return years;\r\n      } else {\r\n        const months = \"fyrir \"+Math.round((diffDays/7)/4) +\" mánuðum síðan\";\r\n        return months;\r\n      }\r\n    } else {\r\n      const weeks = \"Fyrir \"+Math.round(diffDays/7) + \" vikum síðan\";\r\n      return weeks;\r\n    }\r\n  }else{\r\n      const days = \"Fyrir \"+diffDays + \" dögum síðan\";\r\n  }\r\n}\r\n\r\n// reiknar lengdina á videoinu\r\nfunction calcDuration(duration){\r\n  const minutes = Math.floor(duration / 60);\r\n  const secounds = duration - minutes * 60;\r\n  if(secounds <10){\r\n    return (minutes + ':0' + secounds );\r\n  } else{\r\n    return (minutes + ':' + secounds);\r\n  }\r\n}\r\n\r\n\r\n\r\n// býr til section fyrir hver category\r\nfunction createSection(category){\r\n  const div=document.createElement('div');\r\n  div.setAttribute('class', 'category');\r\n  const h3 = document.createElement('h3');\r\n  h3.appendChild(document.createTextNode(category));\r\n  div.appendChild(h3);\r\n  return div;\r\n}\r\n\r\n// býr til card fyrir videoin.\r\nfunction createVideo(videoTitle, poster, created,videoId,videoDuration){\r\n\r\n  const div = document.createElement('div');\r\n  div.setAttribute('class', 'video');\r\n\r\n  const div_picture = document.createElement('div');\r\n  div_picture.setAttribute('class','video__image');\r\n  const img = document.createElement('img');\r\n  img.setAttribute('class','video__img');\r\n  img.setAttribute('src', poster);\r\n  const content = document.createElement('div');\r\n  content.setAttribute('class', 'video__content');\r\n  const head = document.createElement('h3');\r\n  head.setAttribute('class', \"video__heading\");\r\n  head.appendChild(document.createTextNode(videoTitle));\r\n  const time = document.createElement('p');\r\n  time.appendChild(document.createTextNode(created));\r\n  const duration = document.createElement('div');\r\n  duration.setAttribute('class','video__duration');\r\n  const string = calcDuration(videoDuration);\r\n  duration.appendChild(document.createTextNode(string));\r\n  div_picture.appendChild(duration);\r\n  const videoForm = document.createElement('form');\r\n  videoForm.setAttribute('class',videoTitle);\r\n  content.appendChild(head);\r\n  content.appendChild(time);\r\n  div_picture.appendChild(img);\r\n  videoForm.appendChild(div_picture);\r\n  videoForm.appendChild(content);\r\n  videoForm.addEventListener('click', function() {\r\n    location.href = \"video.html?id=\"+videoId;\r\n  });\r\n\r\n  div.appendChild(videoForm);\r\n  return div;\r\n}\r\n\r\n\r\ngetData();\r\n"]}